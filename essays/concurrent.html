<!DOCTYPE HTML>
<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>java.util.concurrent - Java 并发工具包</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Free HTML5 Website Template by freehtml5.co" />
	<meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
	<meta name="author" content="freehtml5.co" />

	

  	<!-- Facebook and Twitter integration -->
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />
     <link rel="icon" href="https://laiqingfa.github.io/images/logo.png" type="image/x-icon"/>   
	<link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500,700,800" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="https://laiqingfa.github.io/css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="https://laiqingfa.github.io/css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="https://laiqingfa.github.io/css/bootstrap.css">
	
	<!-- Theme style  -->
	<link rel="stylesheet" href="https://laiqingfa.github.io/css/style.css">

	<!-- Modernizr JS -->
	<script src="https://laiqingfa.github.io/js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

	</head>
	<body class="single">
		
	<div class="fh5co-loader"></div>
	
	<div id="page">
		<div id="fh5co-aside" style="background-image: url(https://laiqingfa.github.io/images/image_2.jpg)" data-stellar-background-ratio="0.5">
			<div class="overlay"></div>
			<nav role="navigation">
				<ul>
					<li><a href="https://laiqingfa.github.io/index.html"><i class="icon-home"></i></a></li>
				</ul>
			</nav>
			<div class="page-title">				 
				<span>Update MAY 27, 2018</span>
				<h2>java.util.concurrent - Java 并发工具包</h2>
			</div>
		</div>
		<div id="fh5co-main-content">
			<div class="fh5co-post"> 
				<div class="fh5co-entry padding">
					<div>
					    <h2>一、阻塞队列 BlockingQueue</h2>
						<p> java.util.concurrent 包里的 BlockingQueue 接口表示一个线程安放入和提取实例的队列。 </p>
						<p> 一个线程往里边放，另外一个线程从里边取的一个 BlockingQueue。
一个线程将会持续生产新对象并将其插入到队列之中，直到队列达到它所能容纳的临界点。也就是说，它是有限的。如果该阻塞队列到达了其临界点，负责生产的线程将会在往里边插入新对象时发生阻塞。它会一直处于阻塞之中，直到负责消费的线程从队列中拿走一个对象。
负责消费的线程将会一直从该阻塞队列中拿出对象。如果消费线程尝试去从一个空的队列中提取对象的话，这个消费线程将会处于阻塞之中，直到一个生产线程把一个对象丢进队列。</p>
						 
						 <h3>实现</h3>	
						  <p> java.util.concurrent 具有以下 BlockingQueue 接口的实现(Java 6)： ArrayBlockingQueue
								DelayQueue
								LinkedBlockingQueue
								PriorityBlockingQueue
								SynchronousQueue
							</p>
						  <h3> </h3>
						  
						     <h2>二、数组阻塞队列 ArrayBlockingQueue</h2>
						<p> ArrayBlockingQueue 类实现了 BlockingQueue 接口。
ArrayBlockingQueue 是一个有界的阻塞队列，其内部实现是将对象放到一个数组里。有界也就意味着，它不能够存储无限多数量的元素。ArrayBlockingQueue 内部以 FIFO(先进先出)的顺序对元素进行存储。队列中的头元素在所有元素之中是放入时间最久的那个，而尾元素则是最短的那个。 </p>
					    
						  <h3> </h3>
						     <h2>三、延迟队列 DelayQueue</h2>
						<p>DelayQueue 实现了 BlockingQueue 接口。
DelayQueue 对元素进行持有直到一个特定的延迟到期。注入其中的元素必须实现 java.util.concurrent.Delayed 接口 </p>
					    
						  <h3> </h3>
						     <h2>四、链阻塞队列 LinkedBlockingQueue</h2>
						<p>LinkedBlockingQueue 类实现了 BlockingQueue 接口。
LinkedBlockingQueue 内部以一个链式结构(链接节点)对其元素进行存储。如果需要的话，这一链式结构可以选择一个上限。如果没有定义上限，将使用 Integer.MAX_VALUE 作为上限。 </p>
					    
						 <h3> </h3>
						   <h2>五、具有优先级的阻塞队列 PriorityBlockingQueu</h2>
						<p>PriorityBlockingQueue 是一个无界的并发队列。它使用了和类 java.util.PriorityQueue 一样的排序规则。你无法向这个队列中插入 null 值。
所有插入到 PriorityBlockingQueue 的元素必须实现 java.lang.Comparable 接口。因此该队列中元素的排序就取决于你自己的 Comparable 实现。
注意 PriorityBlockingQueue 对于具有相等优先级(compare() == 0)的元素并不强制任何特定行为。
同时注意，如果你从一个 PriorityBlockingQueue 获得一个 Iterator 的话，该 Iterator 并不能保证它对元素的遍历是以优先级为序的。 </p>
					    
						 <h3> </h3>
						  <h2>六、同步队列 SynchronousQueue</h2>
						<p>SynchronousQueue 是一个特殊的队列，它的内部同时只能够容纳单个元素。如果该队列已有一元素的话，试图向队列中插入一个新元素的线程将会阻塞，直到另一个线程将该元素从队列中抽走。同样，如果该队列为空，试图向队列中抽取一个元素的线程将会阻塞，直到另一个线程向队列中插入了一条新的元素。
据此，把这个类称作一个队列显然是夸大其词了。它更多像是一个汇合点。 </p>
					    
						 <h3> </h3>
					 
						  <h2>七、阻塞双端队列 BlockingDeque</h2>
						<p>BlockingDeque 类是一个双端队列，在不能够插入元素时，它将阻塞住试图插入元素的线程；在不能够抽取元素时，它将阻塞住试图抽取的线程。
deque(双端队列) 是 "Double Ended Queue" 的缩写。因此，双端队列是一个你可以从任意一端插入或者抽取元素的队列。 </p>
					    
						 <h3> </h3>
						 
						  <h2>八、链阻塞双端队列 LinkedBlockingDeque</h2>
						<p>LinkedBlockingDeque 类实现了 BlockingDeque 接口。
deque(双端队列) 是 "Double Ended Queue" 的缩写。因此，双端队列是一个你可以从任意一端插入或者抽取元素的队列。 
LinkedBlockingDeque 是一个双端队列，在它为空的时候，一个试图从中抽取数据的线程将会阻塞，无论该线程是试图从哪一端抽取数据。 </p>
					    
						 <h3> </h3>
						 
						   <h2>九、 并发 Map(映射) ConcurrentMap  ！！！（这个很重要）</h2>
						<p>java.util.concurrent.ConcurrentMap 接口表示了一个能够对别人的访问(插入和提取)进行并发处理的 java.util.Map。
ConcurrentMap 除了从其父接口 java.util.Map 继承来的方法之外还有一些额外的原子性方法。 </p>
					    <p> java.util.concurrent 包具备 ConcurrentMap 接口的以下实现类：ConcurrentHashMap。</p>
						 <p> ConcurrentHashMap 和 java.util.HashTable 类很相似，但 ConcurrentHashMap 能够提供比HashTable更好的并发性能。在你从中读取对象的时候 ConcurrentHashMap 并不会把整个 Map 锁住。此外，在你向其中写入对象的时候，ConcurrentHashMap 也不会锁住整个 Map。它的内部只是把 Map 中正在被写入的部分进行锁定。
另外一个不同点是，在被遍历的时候，即使是 ConcurrentHashMap 被改动，它也不会抛 ConcurrentModificationException。尽管 Iterator 的设计不是为多个线程的同时使用。</p>
						  <p> ConcurrentHashMap采用锁分段技术，HashTable容器在竞争激烈的并发环境下表现出效率低下的原因，是因为所有访问HashTable的线程都必须竞争同一把锁，那假如容器里有多把锁，每一把锁用于锁容器其中一部分数据，那么当多线程访问容器里不同数据段的数据时，线程间就不会存在锁竞争，从而可以有效的提高并发访问效率，这就是ConcurrentHashMap所使用的锁分段技术，首先将数据分成一段一段的存储，然后给每一段数据配一把锁，当一个线程占用锁访问其中一个段数据的时候，其他段的数据也能被其他线程访问。
</p>
						 <h3> </h3>
						  <p> 未完待续......</p>
						 <h3> </h3>
						  <h3> </h3>
						   <h3> 参考文章：</h3>
						   <p>https://blog.csdn.net/defonds/article/details/44021605/</p>
						   <p> https://blog.csdn.net/happy_85/article/details/51436188</p>
						    <p> http://ifeve.com/concurrenthashmap/</p>
					 </div>
				</div> 
				
				

			</div>
		</div>
	</div>

	 

	<footer>
		<div>
					&copy; 2016 Free HTML5. All Rights Reserved. Designed by <a href="" target="_blank">FreeHTML5</a> 
					</div>
				</footer>

	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
	</div>
	
	<!-- jQuery -->
	<script src="https://laiqingfa.github.io/js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="https://laiqingfa.github.io/s/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="https://laiqingfa.github.io/js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="https://laiqingfa.github.io/js/jquery.waypoints.min.js"></script>
	<!-- Stellar Parallax -->
	<script src="https://laiqingfa.github.io/js/jquery.stellar.min.js"></script>
	<!-- Main -->
	<script src="https://laiqingfa.github.io/js/main.js"></script>

	</body>
</html>

